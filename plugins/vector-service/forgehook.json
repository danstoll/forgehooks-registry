{
  "$schema": "../../forgehook-schema.json",
  "id": "vector-service",
  "name": "Vector Service",
  "version": "1.1.0",
  "description": "Vector database operations for semantic search, similarity matching, and RAG applications using Qdrant",
  "author": {
    "name": "FlowForge",
    "url": "https://flowforge.dev"
  },
  "license": "MIT",
  "repository": "https://github.com/flowforge/vector-service",
  "icon": "database",
  "category": "ai",
  "tags": ["vector", "embeddings", "search", "similarity", "qdrant", "rag", "semantic"],
  
  "image": {
    "repository": "flowforge/vector-service",
    "tag": "1.0.0"
  },
  
  "port": 4007,
  "basePath": "/api/v1/vector",
  
  "healthCheck": {
    "path": "/health",
    "interval": 30,
    "timeout": 10,
    "retries": 3
  },
  
  "endpoints": [
    {
      "method": "POST",
      "path": "/collections",
      "description": "Create a new vector collection",
      "requestBody": {
        "name": "my-collection",
        "dimension": 1536,
        "distance": "cosine"
      }
    },
    {
      "method": "GET",
      "path": "/collections",
      "description": "List all collections"
    },
    {
      "method": "DELETE",
      "path": "/collections/{name}",
      "description": "Delete a collection"
    },
    {
      "method": "POST",
      "path": "/collections/{name}/upsert",
      "description": "Insert or update vectors",
      "requestBody": {
        "points": [
          {
            "id": "1",
            "vector": [0.1, 0.2],
            "payload": { "text": "example" }
          }
        ]
      }
    },
    {
      "method": "POST",
      "path": "/collections/{name}/search",
      "description": "Search for similar vectors",
      "requestBody": {
        "vector": [0.1, 0.2],
        "limit": 10,
        "filter": {}
      }
    },
    {
      "method": "POST",
      "path": "/collections/{name}/search/text",
      "description": "Semantic text search (auto-embeds query)",
      "requestBody": {
        "text": "search query",
        "limit": 10
      }
    },
    {
      "method": "GET",
      "path": "/collections/{name}/points/{id}",
      "description": "Get a point by ID"
    },
    {
      "method": "DELETE",
      "path": "/collections/{name}/points",
      "description": "Delete points by IDs or filter",
      "requestBody": {
        "ids": ["1", "2", "3"]
      }
    },
    {
      "method": "GET",
      "path": "/health",
      "description": "Health check endpoint",
      "authentication": false
    }
  ],
  
  "environment": [
    {
      "name": "LOG_LEVEL",
      "description": "Logging verbosity level",
      "default": "info",
      "required": false
    },
    {
      "name": "QDRANT_HOST",
      "description": "Qdrant server host",
      "default": "qdrant",
      "required": true
    },
    {
      "name": "QDRANT_PORT",
      "description": "Qdrant server port",
      "default": "6333",
      "required": false
    },
    {
      "name": "DEFAULT_EMBEDDING_MODEL",
      "description": "Default model for text embeddings",
      "default": "text-embedding-ada-002",
      "required": false
    }
  ],
  
  "dependencies": {
    "services": ["redis", "qdrant"],
    "forgehooks": ["llm-service"]
  },
  
  "resources": {
    "memory": "512m",
    "cpu": "1.0"
  }
}
